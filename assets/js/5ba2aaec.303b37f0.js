/*! For license information please see 5ba2aaec.303b37f0.js.LICENSE.txt */
"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[75245],{75338:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>d,frontMatter:()=>s,metadata:()=>l,toc:()=>c});var i=r(74848),t=r(28453);const s={sidebar_position:4},o="Cheapest Price",l={id:"apis/for-buyers/hotel-x-pull-buyers-api/plugins/cheapest-price",title:"Cheapest Price",description:"The Cheapest Price plugin allows you to find the most affordable choice among your Suppliers using various aggregation criteria. This means you can, for example, aggregate the supplier options to discover the least expensive choice for each meal plan and hotel, or even the most budget-friendly option for each hotel, supplier, and room.",source:"@site/docs/apis/for-buyers/hotel-x-pull-buyers-api/plugins/cheapest-price.mdx",sourceDirName:"apis/for-buyers/hotel-x-pull-buyers-api/plugins",slug:"/apis/for-buyers/hotel-x-pull-buyers-api/plugins/cheapest-price",permalink:"/docs/apis/for-buyers/hotel-x-pull-buyers-api/plugins/cheapest-price",draft:!1,unlisted:!1,editUrl:"https://github.com/Travelgate/documentation/tree/main/docs/apis/for-buyers/hotel-x-pull-buyers-api/plugins/cheapest-price.mdx",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"docsSidebar",previous:{title:"Blacklist",permalink:"/docs/apis/for-buyers/hotel-x-pull-buyers-api/plugins/blacklist"},next:{title:"Commission",permalink:"/docs/apis/for-buyers/hotel-x-pull-buyers-api/plugins/commission"}},a={},c=[{value:"1. Execute Cheapest Price Plugin in your Query",id:"1-execute-cheapest-price-plugin-in-your-query",level:2},{value:"Special Aggregation Key: eqRates",id:"special-aggregation-key-eqrates",level:3}];function p(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components},{BrowserWindow:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("BrowserWindow",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"cheapest-price",children:"Cheapest Price"})}),"\n",(0,i.jsx)(n.p,{children:"The Cheapest Price plugin allows you to find the most affordable choice among your Suppliers using various aggregation criteria. This means you can, for example, aggregate the supplier options to discover the least expensive choice for each meal plan and hotel, or even the most budget-friendly option for each hotel, supplier, and room."}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["You don't need to create any files for this plugin. Just specify it in the ",(0,i.jsx)(n.code,{children:"settings"})," > ",(0,i.jsx)(n.code,{children:"plugins"})," field in your search query."]})}),"\n",(0,i.jsx)(n.h2,{id:"1-execute-cheapest-price-plugin-in-your-query",children:"1. Execute Cheapest Price Plugin in your Query"}),"\n",(0,i.jsxs)(n.p,{children:["To use the plugin add the following field to the ",(0,i.jsx)(n.code,{children:"settings"})," node of your request. Note that cheapest price plugin can just be executed in search query. In order to successfully execute the cheapest price plugin, you will need to create the request with the following variables."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"step"})}),': "RESPONSE"']}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"type"})}),': "PRE_STEP"']}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"name"})}),': "cheapest_price"']}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"parameters"})}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"primaryKey"})}),': Criteria used to aggregate, separated by commas. For example: "hotel, supplier, board". Possible values are:']}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"hotel"}),"\n",(0,i.jsx)(n.li,{children:"supplier"}),"\n",(0,i.jsx)(n.li,{children:"board"}),"\n",(0,i.jsx)(n.li,{children:"binding"}),"\n",(0,i.jsx)(n.li,{children:"cancelPolicy"}),"\n",(0,i.jsx)(n.li,{children:"currency"}),"\n",(0,i.jsx)(n.li,{children:"market"}),"\n",(0,i.jsx)(n.li,{children:"payment"}),"\n",(0,i.jsx)(n.li,{children:"promotion"}),"\n",(0,i.jsx)(n.li,{children:"rateRules"}),"\n",(0,i.jsx)(n.li,{children:"refundable"}),"\n",(0,i.jsx)(n.li,{children:"room"}),"\n",(0,i.jsx)(n.li,{children:"supplement"}),"\n",(0,i.jsx)(n.li,{children:"surcharges"}),"\n",(0,i.jsx)(n.li,{children:"ratePlan"}),"\n",(0,i.jsx)(n.li,{children:"status"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"optionsPerKey"})}),": Limits the number of options per aggregation group, this being defined by the previous primakyKey parameter. Value: Integer."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{title:"Remember",type:"caution",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"primaryKey"})," is a mandatory parameter in order to activate the plugin. ",(0,i.jsx)(n.code,{children:"optionsPerKey"})," is optional and complementary of the first."]})}),"\n",(0,i.jsx)(n.p,{children:"For instance, if you want to find the most affordable option for each hotel, supplier, and room:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'"settings": {\n    "plugins" : [\n        {\n            "step" : "RESPONSE",\n            "pluginsType" : [\n                {\n                    "type" : "PRE_STEP",\n                    "name" : "cheapest_price",\n                    "parameters" : [\n                        {\n                            "key" : "primaryKey",\n                            "value" : "hotel,supplier,room"\n                        },\n                        {\n                            "key" : "optionsPerKey",\n                            "value" : "1"\n                        }\n                    ]\n                }\n            ]\n        }\n    ]\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"special-aggregation-key-eqrates",children:"Special Aggregation Key: eqRates"}),"\n",(0,i.jsx)(n.p,{children:'There is a special value for the aggregation key "eqRates" that  will combine the rateRules and ratePlans of an option and group all of the options, based on the file uploaded in the SFTP with the name:'}),"\n",(0,i.jsx)(s,{children:(0,i.jsxs)(n.p,{children:["\ud83d\udcc1HotelX",(0,i.jsx)(n.br,{}),"\n","\xa0\xa0\xa0\xa0 \ud83d\udcc1HotelX_0000",(0,i.jsx)(n.br,{}),"\n","\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 \ud83d\udcc1BusinessRules",(0,i.jsx)(n.br,{}),"\n","\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 **\ud83d\udcc4",(0,i.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:r(63083).A+"",children:"SupplierContext_rateplanraterule.csv"}),"\n**"]})}),"\n",(0,i.jsx)(n.p,{children:'With this uploaded CSV file, all the options with the ratePlan code "NOREEMBOLSABLE" and no rateRules will be compared with each other. Similarly, all the options without a ratePlan code or without a mapped ratePlan and with rateRules set to "NON_REFUNDABLE" will also be compared with each other.'})]})}function d(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},63083:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/files/SupplierContext_rateplanraterule-abb51998d01ba59f8931162b78dccf03.csv"},21020:(e,n,r)=>{var i=r(96540),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(e,n,r){var i,s={},c=null,p=null;for(i in void 0!==r&&(c=""+r),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(p=n.ref),n)o.call(n,i)&&!a.hasOwnProperty(i)&&(s[i]=n[i]);if(e&&e.defaultProps)for(i in n=e.defaultProps)void 0===s[i]&&(s[i]=n[i]);return{$$typeof:t,type:e,key:c,ref:p,props:s,_owner:l.current}}n.Fragment=s,n.jsx=c,n.jsxs=c},74848:(e,n,r)=>{e.exports=r(21020)},28453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>l});var i=r(96540);const t={},s=i.createContext(t);function o(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);