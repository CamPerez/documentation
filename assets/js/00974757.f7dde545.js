/*! For license information please see 00974757.f7dde545.js.LICENSE.txt */
"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[19472],{21785:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"connectivity-products/for-buyers/hotel-x/content/token-pagination","title":"Token-based Pagination","description":"What Is a Token (ContinuationToken)?","source":"@site/kb/connectivity-products/for-buyers/hotel-x/content/token-pagination.md","sourceDirName":"connectivity-products/for-buyers/hotel-x/content","slug":"/connectivity-products/for-buyers/hotel-x/content/token-pagination","permalink":"/kb/connectivity-products/for-buyers/hotel-x/content/token-pagination","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8},"sidebar":"kbSidebar","previous":{"title":"Metadata","permalink":"/kb/connectivity-products/for-buyers/hotel-x/content/metadata"},"next":{"title":"Overview","permalink":"/kb/connectivity-products/for-buyers/hotel-x/booking-flow/overview"}}');var i=t(74848),s=t(28453);const r={sidebar_position:8},a="Token-based Pagination",l={},c=[{value:"What Is a Token (ContinuationToken)?",id:"what-is-a-token-continuationtoken",level:3},{value:"Which Queries Support Pagination?",id:"which-queries-support-pagination",level:3},{value:"What Is the Expiration Time for the Token (ContinuationToken)?",id:"what-is-the-expiration-time-for-the-token-continuationtoken",level:3},{value:"Token-Based Pagination Guide for Hotel-X Pull Buyers API",id:"token-based-pagination-guide-for-hotel-x-pull-buyers-api",level:3},{value:"A Quick Guide for Users of Legacy Pull Buyers API",id:"a-quick-guide-for-users-of-legacy-pull-buyers-api",level:3},{value:"Additional Considerations",id:"additional-considerations",level:3}];function d(e){const n={admonition:"admonition",br:"br",code:"code",h1:"h1",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"token-based-pagination",children:"Token-based Pagination"})}),"\n",(0,i.jsx)(n.h3,{id:"what-is-a-token-continuationtoken",children:"What Is a Token (ContinuationToken)?"}),"\n",(0,i.jsxs)(n.p,{children:["The token, also known as the ",(0,i.jsx)(n.strong,{children:"ContinuationToken"})," in the Hotel Buyers API (Legacy), plays a crucial role in downloading large lists of objects. It helps break down content into smaller segments, effectively preventing potential timeout errors."]}),"\n",(0,i.jsx)(n.h3,{id:"which-queries-support-pagination",children:"Which Queries Support Pagination?"}),"\n",(0,i.jsx)(n.p,{children:"Pagination is available for the following queries:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Hotels"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Destinations"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Rooms"})}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"what-is-the-expiration-time-for-the-token-continuationtoken",children:"What Is the Expiration Time for the Token (ContinuationToken)?"}),"\n",(0,i.jsxs)(n.p,{children:["The token has an expiration time of ",(0,i.jsx)(n.strong,{children:"4 minutes"}),", but each time a page request is made, the timer resets. This means the total time allowed depends on the size of the list and the frequency of requests."]}),"\n",(0,i.jsx)(n.h3,{id:"token-based-pagination-guide-for-hotel-x-pull-buyers-api",children:"Token-Based Pagination Guide for Hotel-X Pull Buyers API"}),"\n",(0,i.jsx)(n.p,{children:"To paginate content effectively, follow these steps:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Include the token in your request"}),(0,i.jsx)(n.br,{}),"\n","Add the ",(0,i.jsx)(n.code,{children:'"token"'})," object to the fields and arguments in your query. You can also control the number of objects returned per page by using the ",(0,i.jsx)(n.code,{children:'"maxSize"'})," tag."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Request subsequent pages"}),(0,i.jsx)(n.br,{}),"\n","Once you receive a response, only a portion of the total list will be returned. To get the next page, copy the ",(0,i.jsx)(n.code,{children:'"token"'})," value from the response and include it in your next request."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Repeat until completion"}),(0,i.jsx)(n.br,{}),"\n","Continue requesting pages until the ",(0,i.jsx)(n.code,{children:'"token"'})," field is no longer included in the response."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:'"maxSize"'})," value must be between ",(0,i.jsx)(n.strong,{children:"1 and 10,000"})," for Hotels, Rooms, and Destinations queries."]})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n    "criteria": {\n        "access": "",\n        "maxSize": 100\n    },\n    "language": "en",\n    "token": ""\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"a-quick-guide-for-users-of-legacy-pull-buyers-api",children:"A Quick Guide for Users of Legacy Pull Buyers API"}),"\n",(0,i.jsx)(n.p,{children:"Follow these steps to paginate content using the Legacy API:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Add the ContinuationToken tag to your request"}),(0,i.jsx)(n.br,{}),"\n","You can specify the maximum number of objects per page using the ",(0,i.jsx)(n.code,{children:'"expectedRange"'})," attribute."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'<ContinuationToken expectedRange="1000"></ContinuationToken>\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Request subsequent pages"}),(0,i.jsx)(n.br,{}),"\n","After receiving a response, copy the ",(0,i.jsx)(n.code,{children:"ContinuationToken"})," tag from the response and paste it into the next request to retrieve additional content."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Repeat until completion"}),(0,i.jsx)(n.br,{}),"\n","Continue this process until the ",(0,i.jsx)(n.code,{children:"ContinuationToken"})," is no longer present in the response. If you encounter a ",(0,i.jsx)(n.strong,{children:"11204 error"}),", it indicates that the entire list has been retrieved."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"additional-considerations",children:"Additional Considerations"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Sometimes, the number of hotels returned may exceed the ",(0,i.jsx)(n.code,{children:"expectedRange"})," value. For example, if set to ",(0,i.jsx)(n.code,{children:"1000"}),", the response may include anywhere from 1000 to 1999 hotels."]}),"\n",(0,i.jsxs)(n.li,{children:["If the ",(0,i.jsx)(n.code,{children:"expectedRange"})," attribute is not specified, the default maximum number of hotels in the list is ",(0,i.jsx)(n.strong,{children:"250,000"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["When using ",(0,i.jsx)(n.code,{children:"expectedRange"}),", select values that are multiples of 1,000 (e.g., 1000, 2000, 3000) for efficient data retrieval."]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},21020:(e,n,t)=>{var o=t(96540),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,n,t){var o,s={},c=null,d=null;for(o in void 0!==t&&(c=""+t),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(d=n.ref),n)r.call(n,o)&&!l.hasOwnProperty(o)&&(s[o]=n[o]);if(e&&e.defaultProps)for(o in n=e.defaultProps)void 0===s[o]&&(s[o]=n[o]);return{$$typeof:i,type:e,key:c,ref:d,props:s,_owner:a.current}}n.Fragment=s,n.jsx=c,n.jsxs=c},74848:(e,n,t)=>{e.exports=t(21020)},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var o=t(96540);const i={},s=o.createContext(i);function r(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);