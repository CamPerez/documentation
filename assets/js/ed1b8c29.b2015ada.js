/*! For license information please see ed1b8c29.b2015ada.js.LICENSE.txt */
"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[50513],{54759:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"apps/reconciliation/api-integration","title":"API Integration","description":"Our API is designed to help you integrate your system with Travelgate, enabling you to access our powerful","source":"@site/docs/apps/reconciliation/api-integration.mdx","sourceDirName":"apps/reconciliation","slug":"/apps/reconciliation/api-integration","permalink":"/docs/apps/reconciliation/api-integration","draft":false,"unlisted":false,"editUrl":"https://github.com/Travelgate/documentation/tree/main/docs/apps/reconciliation/api-integration.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"docsSidebar","previous":{"title":"Quickstart","permalink":"/docs/apps/reconciliation/quickstart"},"next":{"title":"Overview","permalink":"/docs/security/overview"}}');var r=o(74848),i=o(28453);const a={sidebar_position:2},l="API Integration",s={},c=[{value:"Before you start",id:"before-you-start",level:2},{value:"General Information",id:"general-information",level:2},{value:"Create a booking",id:"create-a-booking",level:2},{value:"Cancel a booking",id:"cancel-a-booking",level:2},{value:"Update a booking",id:"update-a-booking",level:2}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"api-integration",children:"API Integration"})}),"\n",(0,r.jsx)(n.p,{children:"Our API is designed to help you integrate your system with Travelgate, enabling you to access our powerful\nreconciliation solution. This guide will walk you through the process of setting up your API integration,\nso you can start reconciling bookings with ease."}),"\n",(0,r.jsx)(n.h2,{id:"before-you-start",children:"Before you start"}),"\n",(0,r.jsx)(n.p,{children:"Before you start, make sure you have the following:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GraphQL Knowledge"}),": Our API is built on GraphQL, so having a basic understanding of how it works will be helpful."]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"An active Travelgate account"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"API Key"}),": You can generate an API key by logging into your Travelgate account and navigating to the\n",(0,r.jsx)(n.a,{href:"https://app.travelgate.com/settings/apikeys",children:"API Key"})," section."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"general-information",children:"General Information"}),"\n",(0,r.jsxs)(n.p,{children:["You can send data to reconciliation from two different perspectives: as a Buyer or as a Seller. Graphql mutations and\nqueries are available for both perspectives. e.g: ",(0,r.jsx)(n.code,{children:"bookingCreateSeller"}),", ",(0,r.jsx)(n.code,{children:"bookingCreateBuyer"}),", ",(0,r.jsx)(n.code,{children:"bookingCancelSeller"}),",\n",(0,r.jsx)(n.code,{children:"bookingCancelBuyer"}),", etc."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"The code samples provided in this guide are written for a Seller perspective"}),". If you are a Buyer, you can use the same\nmutations and queries by replacing the Seller with Buyer. e.g: ",(0,r.jsx)(n.code,{children:"bookingCreateSeller"})," -> ",(0,r.jsx)(n.code,{children:"bookingCreateBuyer"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"create-a-booking",children:"Create a booking"}),"\n",(0,r.jsxs)(n.p,{children:["You create a new booking by using ",(0,r.jsx)(n.code,{children:"bookingCreateSeller"})," mutation. This mutation will create a new booking in the\nsystem. Below is a full example of how to create a new booking."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:'mutation BookingCreateSeller {\n  reconciliation {\n    bookingCreateSeller(\n      input: {\n        buyerReference: "test-202403061027",\n        sellerReference: "test-202403061027",\n        buyerIdentity: {\n          travelgate: {\n            buyerOrgCode: "xyz"\n          }\n        },\n        reservation: {\n          createdAt: "2024-02-28T09:00"\n          netPayable: {\n            amount: "50",\n            currency: "EUR"\n          },\n          status: "CONFIRMED",\n          hotel: {\n            codeSeller: "s8",\n            name: "Hotel Test",\n            address: "Bora Bora",\n            country: "ES",\n            coordinates: {\n              latitude: "2.568965",\n              longitude: "42.369854"\n            }\n          },\n          cancellationPolicy: {\n            refundable: true,\n            penalties: [{\n              value: "5",\n              currency: "EUR",\n              deadline: "2024-02-28T09:00"\n            }, {\n              value: "26",\n              currency: "EUR",\n              deadline: "2024-03-01T14:00"\n            }]},\n          rooms: [{\n            checkIn: "2024-03-06",\n            checkOut: "2024-03-08",\n            board: {\n              codeSeller: "sel",\n              description: "-"\n            },\n            room: {\n              codeSeller: "sel",\n              description: "-"\n            },\n            guests: [{\n              age: 25\n            }, {\n              age: 30\n            }]\n          }]\n        }\n      }\n    ) {\n      booking {\n        id\n        buyerReference\n        sellerReference\n        status\n        netPayable {\n          currency\n          amount\n        }\n      }\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"cancel-a-booking",children:"Cancel a booking"}),"\n",(0,r.jsxs)(n.p,{children:["You can cancel a booking by using the ",(0,r.jsx)(n.code,{children:"bookingCancelSeller"})," mutation. This mutation will cancel the booking in the\nsystem. Below is a full example of how to cancel a booking."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:'mutation BookingCancelSeller {\n  reconciliation {\n    bookingCancelSeller(\n      input: {\n        buyerReference: "tet-202411271231",\n        sellerReference: "test-202411271231",\n        buyerIdentity: {\n          travelgate: {\n            buyerOrgCode:    "xyz"\n          }\n        },\n        reservation: {\n          canceledAt: "2024-11-28T18:47",\n          netPayable: {\n            amount: "50",\n            currency: "EUR",\n          }\n        }\n      }\n    ) {\n      booking {\n        id\n        buyerReference\n        sellerReference\n        status\n        createdAt\n        netPayable {\n          currency\n          amount\n        }\n      }\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"update-a-booking",children:"Update a booking"}),"\n",(0,r.jsxs)(n.p,{children:["You can update a booking by using the ",(0,r.jsx)(n.code,{children:"bookingUpdateSeller"})," mutation. This mutation will update the booking in the\nsystem. Below is a full example of how to update a booking."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:'mutation BookingUpdateSeller {\n  reconciliation {\n    bookingUpdateSeller(\n      input: {\n        buyerReference: "1234567",\n        sellerReference: "1234567",\n        buyerIdentity: {\n          travelgate: {\n            buyerOrgCode: "xyz"\n          }\n        },\n        reservation: {\n          updatedAt: "2024-09-30T15:57:00",\n          netPayable: {\n            amount: 100,\n            currency: "EUR"\n          },\n          status: "CONFIRMED"\n        }\n      }\n    ) {\n      booking {\n        id\n        buyerReference\n        sellerReference\n        status\n        netPayable {\n          currency\n          amount\n        }\n      }\n    }\n  }\n}\n'})})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},21020:(e,n,o)=>{var t=o(96540),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,n,o){var t,i={},c=null,u=null;for(t in void 0!==o&&(c=""+o),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(u=n.ref),n)a.call(n,t)&&!s.hasOwnProperty(t)&&(i[t]=n[t]);if(e&&e.defaultProps)for(t in n=e.defaultProps)void 0===i[t]&&(i[t]=n[t]);return{$$typeof:r,type:e,key:c,ref:u,props:i,_owner:l.current}}n.Fragment=i,n.jsx=c,n.jsxs=c},74848:(e,n,o)=>{e.exports=o(21020)},28453:(e,n,o)=>{o.d(n,{R:()=>a,x:()=>l});var t=o(96540);const r={},i=t.createContext(r);function a(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);