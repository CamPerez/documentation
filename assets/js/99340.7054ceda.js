"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([["99340"],{26759:function(e,t,o){function r(e){return null===e?"null":Array.isArray(e)?"array":typeof e}function n(e){return"object"===r(e)}function i(e,t){return e.length<124?e:t}o.d(t,{createClient:()=>y});var a,s,p=((a=p||{})[a.InternalServerError=4500]="InternalServerError",a[a.InternalClientError=4005]="InternalClientError",a[a.BadRequest=4400]="BadRequest",a[a.BadResponse=4004]="BadResponse",a[a.Unauthorized=4401]="Unauthorized",a[a.Forbidden=4403]="Forbidden",a[a.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",a[a.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",a[a.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",a[a.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",a[a.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests",a),l=((s=l||{}).ConnectionInit="connection_init",s.ConnectionAck="connection_ack",s.Ping="ping",s.Pong="pong",s.Subscribe="subscribe",s.Next="next",s.Error="error",s.Complete="complete",s);function c(e){if(!n(e))throw Error(`Message is expected to be an object, but got ${r(e)}`);if(!e.type)throw Error("Message is missing the 'type' property");if("string"!=typeof e.type)throw Error(`Message is expects the 'type' property to be a string, but got ${r(e.type)}`);switch(e.type){case"connection_init":case"connection_ack":case"ping":case"pong":if(null!=e.payload&&!n(e.payload))throw Error(`"${e.type}" message expects the 'payload' property to be an object or nullish or missing, but got "${e.payload}"`);break;case"subscribe":if("string"!=typeof e.id)throw Error(`"${e.type}" message expects the 'id' property to be a string, but got ${r(e.id)}`);if(!e.id)throw Error(`"${e.type}" message requires a non-empty 'id' property`);if(!n(e.payload))throw Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${r(e.payload)}`);if("string"!=typeof e.payload.query)throw Error(`"${e.type}" message payload expects the 'query' property to be a string, but got ${r(e.payload.query)}`);if(null!=e.payload.variables&&!n(e.payload.variables))throw Error(`"${e.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${r(e.payload.variables)}`);if(null!=e.payload.operationName&&"string"!==r(e.payload.operationName))throw Error(`"${e.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${r(e.payload.operationName)}`);if(null!=e.payload.extensions&&!n(e.payload.extensions))throw Error(`"${e.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${r(e.payload.extensions)}`);break;case"next":if("string"!=typeof e.id)throw Error(`"${e.type}" message expects the 'id' property to be a string, but got ${r(e.id)}`);if(!e.id)throw Error(`"${e.type}" message requires a non-empty 'id' property`);if(!n(e.payload))throw Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${r(e.payload)}`);break;case"error":var t;if("string"!=typeof e.id)throw Error(`"${e.type}" message expects the 'id' property to be a string, but got ${r(e.id)}`);if(!e.id)throw Error(`"${e.type}" message requires a non-empty 'id' property`);if(!(Array.isArray(t=e.payload)&&t.length>0&&t.every(e=>"message"in e)))throw Error(`"${e.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(e.payload)}`);break;case"complete":if("string"!=typeof e.id)throw Error(`"${e.type}" message expects the 'id' property to be a string, but got ${r(e.id)}`);if(!e.id)throw Error(`"${e.type}" message requires a non-empty 'id' property`);break;default:throw Error(`Invalid message 'type' property "${e.type}"`)}return e}function d(e,t){return c(e),JSON.stringify(e,t)}function y(e){let t,{url:o,connectionParams:r,lazy:n=!0,onNonLazyError:a=console.error,lazyCloseTimeout:s=0,keepAlive:y=0,disablePong:m,connectionAckWaitTimeout:f=0,retryAttempts:b=5,retryWait:h=async function(e){let t=Math.pow(2,e);await new Promise(e=>setTimeout(e,1e3*t+Math.floor(2700*Math.random()+300)))},shouldRetry:w=g,on:x,webSocketImpl:E,generateID:S=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},jsonMessageReplacer:v,jsonMessageReviver:C}=e;if(E){var $;if(!("function"==typeof($=E)&&"constructor"in $&&"CLOSED"in $&&"CLOSING"in $&&"CONNECTING"in $&&"OPEN"in $))throw Error("Invalid WebSocket implementation provided");t=E}else"undefined"!=typeof WebSocket?t=WebSocket:"undefined"!=typeof global?t=global.WebSocket||global.MozWebSocket:"undefined"!=typeof window&&(t=window.WebSocket||window.MozWebSocket);if(!t)throw Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");let k=t,N=(()=>{let e=(()=>{let e={};return{on:(t,o)=>(e[t]=o,()=>{delete e[t]}),emit(t){"id"in t&&e[t.id]?.(t)}}})(),t={connecting:x?.connecting?[x.connecting]:[],opened:x?.opened?[x.opened]:[],connected:x?.connected?[x.connected]:[],ping:x?.ping?[x.ping]:[],pong:x?.pong?[x.pong]:[],message:x?.message?[e.emit,x.message]:[e.emit],closed:x?.closed?[x.closed]:[],error:x?.error?[x.error]:[]};return{onMessage:e.on,on(e,o){let r=t[e];return r.push(o),()=>{r.splice(r.indexOf(o),1)}},emit(e,...o){for(let r of[...t[e]])r(...o)}}})();function T(e){let t=[N.on("error",o=>{t.forEach(e=>e()),e(o)}),N.on("closed",o=>{t.forEach(e=>e()),e(o)})]}let I,A=0,M,P=!1,q=0,O=!1;async function R(){clearTimeout(M);let[e,t]=await (I??(I=new Promise((e,t)=>(async()=>{let n,a;if(P){if(await h(q),!A)return I=void 0,t({code:1e3,reason:"All Subscriptions Gone"});q++}N.emit("connecting",P);let s=new k("function"==typeof o?await o():o,"graphql-transport-ws");function g(){isFinite(y)&&y>0&&(clearTimeout(a),a=setTimeout(()=>{s.readyState===k.OPEN&&(s.send(d({type:l.Ping})),N.emit("ping",!1,void 0))},y))}T(e=>{I=void 0,clearTimeout(n),clearTimeout(a),t(e),e instanceof u&&(s.close(4499,"Terminated"),s.onerror=null,s.onclose=null)}),s.onerror=e=>N.emit("error",e),s.onclose=e=>N.emit("closed",e),s.onopen=async()=>{try{N.emit("opened",s);let e="function"==typeof r?await r():r;if(s.readyState!==k.OPEN)return;s.send(d(e?{type:l.ConnectionInit,payload:e}:{type:l.ConnectionInit},v)),isFinite(f)&&f>0&&(n=setTimeout(()=>{s.close(p.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")},f)),g()}catch(e){N.emit("error",e),s.close(p.InternalClientError,i(e instanceof Error?e.message:String(e),"Internal client error"))}};let b=!1;s.onmessage=({data:t})=>{try{let o=c("string"==typeof t?JSON.parse(t,C):t);if(N.emit("message",o),"ping"===o.type||"pong"===o.type){N.emit(o.type,!0,o.payload),"pong"===o.type?g():m||(s.send(d(o.payload?{type:l.Pong,payload:o.payload}:{type:l.Pong})),N.emit("pong",!1,o.payload));return}if(b)return;if(o.type!==l.ConnectionAck)throw Error(`First message cannot be of type ${o.type}`);clearTimeout(n),b=!0,N.emit("connected",s,o.payload,P),P=!1,q=0,e([s,new Promise((e,t)=>T(t))])}catch(e){s.onmessage=null,N.emit("error",e),s.close(p.BadResponse,i(e instanceof Error?e.message:String(e),"Bad response"))}}})())));e.readyState===k.CLOSING&&await t;let n=()=>{},a=new Promise(e=>n=e);return[e,n,Promise.race([a.then(()=>{if(!A){let t=()=>e.close(1e3,"Normal Closure");isFinite(s)&&s>0?M=setTimeout(()=>{e.readyState===k.OPEN&&t()},s):t()}}),t])]}function W(e){var t;if(g(e)&&(![1e3,1001,1006,1005,1012,1013,1014].includes(t=e.code)&&t>=1e3&&t<=1999||[p.InternalServerError,p.InternalClientError,p.BadRequest,p.BadResponse,p.Unauthorized,p.SubprotocolNotAcceptable,p.SubscriberAlreadyExists,p.TooManyInitialisationRequests].includes(e.code)))throw e;if(O)return!1;if(g(e)&&1e3===e.code)return A>0;if(!b||q>=b||!w(e))throw e;return P=!0}function j(e,t){let o=S(e),r=!1,n=!1,i=()=>{A--,r=!0};return(async()=>{for(A++;;)try{let[a,s,p]=await R();if(r)return s();let c=N.onMessage(o,e=>{switch(e.type){case l.Next:return void t.next(e.payload);case l.Error:n=!0,r=!0,t.error(e.payload),i();return;case l.Complete:r=!0,i();return}});a.send(d({id:o,type:l.Subscribe,payload:e},v)),i=()=>{r||a.readyState!==k.OPEN||a.send(d({id:o,type:l.Complete},v)),A--,r=!0,s()},await p.finally(c);return}catch(e){if(!W(e))return}})().then(()=>{n||t.complete()}).catch(e=>{t.error(e)}),()=>{r||i()}}return n||(async()=>{for(A++;;)try{let[,,e]=await R();await e}catch(e){try{if(!W(e))return}catch(e){return a?.(e)}}})(),{on:N.on,subscribe:j,iterate(e){let t=[],o={done:!1,error:null,resolve:()=>{}},r=j(e,{next(e){t.push(e),o.resolve()},error(e){o.done=!0,o.error=e,o.resolve()},complete(){o.done=!0,o.resolve()}}),n=async function*(){for(;;){for(t.length||await new Promise(e=>o.resolve=e);t.length;)yield t.shift();if(o.error)throw o.error;if(o.done)return}}();return n.throw=async e=>(o.done||(o.done=!0,o.error=e,o.resolve()),{done:!0,value:void 0}),n.return=async()=>(r(),{done:!0,value:void 0}),n},async dispose(){if(O=!0,I){let[e]=await I;e.close(1e3,"Normal Closure")}},terminate(){I&&N.emit("closed",new u)}}}class u extends Error{name="TerminatedCloseEvent";message="4499: Terminated";code=4499;reason="Terminated";wasClean=!1}function g(e){return n(e)&&"code"in e&&"reason"in e}}}]);