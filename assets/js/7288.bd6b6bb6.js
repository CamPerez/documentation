"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([["7288"],{59870:function(e,t,i){function s(e,t,i){return Math.min(Math.max(e,t),i)}i.d(t,{N:()=>r,nM:()=>n,uZ:()=>s});class n{constructor(){this._n=1,this._val=0}update(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class r{constructor(e){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=Array(e),this._values.fill(0,0,e)}update(e){let t=this._values[this._index];return this._values[this._index]=e,this._index=(this._index+1)%this._values.length,this._sum-=t,this._sum+=e,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}},88191:function(e,t,i){i.r(t),i.d(t,{ILanguageFeatureDebounceService:()=>d,LanguageFeatureDebounceService:()=>D});var s,n=i(89954),r=i(38695),a=i(59870),u=i(48814),h=i(65026),l=i(72065),c=i(43557),o=i(66663),_=function(e,t){return function(i,s){t(i,s,e)}};let d=(0,l.yh)("ILanguageFeatureDebounceService");var v=s||(s={});let f=new WeakMap,g=0;v.of=function(e){let t=f.get(e);return void 0===t&&(t=++g,f.set(e,t)),t};class p{constructor(e){this._default=e}get(e){return this._default}update(e,t){return this._default}default(){return this._default}}class m{constructor(e,t,i,s,n,a){this._logService=e,this._name=t,this._registry=i,this._default=s,this._min=n,this._max=a,this._cache=new r.z6(50,.7)}_key(e){return e.id+this._registry.all(e).reduce((e,t)=>(0,n.SP)(s.of(t),e),0)}get(e){let t=this._key(e),i=this._cache.get(t);return i?(0,a.uZ)(i.value,this._min,this._max):this.default()}update(e,t){let i=this._key(e),s=this._cache.get(i);s||(s=new a.N(6),this._cache.set(i,s));let n=(0,a.uZ)(s.update(t),this._min,this._max);return(0,o.xn)(e.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${e.uri.toString()} is ${n}ms`),n}_overall(){let e=new a.nM;for(let[,t]of this._cache)e.update(t.value);return e.value}default(){let e=0|this._overall()||this._default;return(0,a.uZ)(e,this._min,this._max)}}let D=class{constructor(e,t){this._logService=e,this._data=new Map,this._isDev=t.isExtensionDevelopment||!t.isBuilt}for(e,t,i){let n=i?.min??50,r=i?.max??n**2,a=i?.key??void 0,u=`${s.of(e)},${n}${a?","+a:""}`,h=this._data.get(u);return h||(this._isDev?(this._logService.debug(`[DEBOUNCE: ${t}] is disabled in developed mode`),h=new p(1.5*n)):h=new m(this._logService,t,e,0|this._overallAverage()||1.5*n,n,r),this._data.set(u,h)),h}_overallAverage(){let e=new a.nM;for(let t of this._data.values())e.update(t.default());return e.value}};D=function(e,t,i,s){var n,r=arguments.length,a=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var u=e.length-1;u>=0;u--)(n=e[u])&&(a=(r<3?n(a):r>3?n(t,i,a):n(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a}([_(0,c.VZ),_(1,u.Y)],D),(0,h.z)(d,D,1)},48814:function(e,t,i){i.d(t,{Y:()=>s});let s=(0,i(72065).yh)("environmentService")},97108:function(e,t,i){i.d(t,{M:()=>s});class s{constructor(e,t=[],i=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=i}}},65026:function(e,t,i){i.d(t,{d:()=>a,z:()=>r});var s=i(97108);let n=[];function r(e,t,i){t instanceof s.M||(t=new s.M(t,[],!!i)),n.push([e,t])}function a(){return n}},72065:function(e,t,i){var s,n;i.d(t,{I8:()=>s,TG:()=>r,yh:()=>a}),(n=s||(s={})).serviceIds=new Map,n.DI_TARGET="$di$target",n.DI_DEPENDENCIES="$di$dependencies",n.getServiceDependencies=function(e){return e[n.DI_DEPENDENCIES]||[]};let r=a("instantiationService");function a(e){if(s.serviceIds.has(e))return s.serviceIds.get(e);let t=function(e,i,n){if(3!=arguments.length)throw Error("@IServiceName-decorator can only be used to decorate a parameter");e[s.DI_TARGET]===e?e[s.DI_DEPENDENCIES].push({id:t,index:n}):(e[s.DI_DEPENDENCIES]=[{id:t,index:n}],e[s.DI_TARGET]=e)};return t.toString=()=>e,s.serviceIds.set(e,t),t}}}]);